<!DOCTYPE html>
<html><head></head><body><h1>Eval PD</h1>
<p>To demonstrate what an example does we will dynamically import it and run it in the browser (assuming it has an <code>esm</code> or <code>iife</code> build).</p>
<h2>checkName</h2>
<p>Let's check that we have a <code>name</code> property for now.</p>
<ul>
<li>not: /name<pre><code class="language-ts hljs language-typescript"><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"No name property found in script"</span>);
</code></pre>
</li>
</ul>
<h2>generateUrl</h2>
<p>The scripts will be in a consistent location, so we can generate the url based on the script/file name alone.</p>
<pre><code class="language-ts hljs language-typescript">input.<span class="hljs-property">url</span> = <span class="hljs-string">`/pd/<span class="hljs-subst">${input.name}</span>/index.esm.js`</span>;
</code></pre>
<h2>importScript</h2>
<p>We will import the script dynamically and run it in the browser.</p>
<pre><code class="language-ts hljs language-typescript">input.<span class="hljs-property">script</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(input.<span class="hljs-property">url</span>);
</code></pre>
<h2>runScript</h2>
<p>We will run the script in the browser.</p>
<pre><code class="language-ts hljs language-typescript">input.<span class="hljs-property">output</span> = <span class="hljs-keyword">await</span> input.<span class="hljs-property">script</span>.<span class="hljs-property">pipe</span>.<span class="hljs-title function_">process</span>();
</code></pre>
<pre><code class="language-json hljs"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"esm"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</body></html>